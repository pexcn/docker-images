version: '3.9'

services:
  gfw-defense:
    image: pexcn/docker-images:gfw-defense
    container_name: gfw-defense
    restart: unless-stopped
    network_mode: host
    privileged: true
    environment:
      TZ: Asia/Taipei
      BLOCKING_POLICY: DROP
      PASSING_POLICY: ACCEPT
      DEFAULT_POLICY: RETURN
      QUICK_MODE: 0
      PREFER_BLACKLIST: 0
      USE_IPTABLES_NFT_BACKEND: 0
      BLACKLIST_FILES: /etc/gfw-defense/blacklist.txt
      WHITELIST_FILES: /etc/gfw-defense/whitelist.txt
    volumes:
      - ./gfw-defense-data:/etc/gfw-defense
